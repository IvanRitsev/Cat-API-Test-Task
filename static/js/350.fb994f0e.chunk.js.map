{"version":3,"file":"static/js/350.fb994f0e.chunk.js","mappings":"wJAIO,MAAMA,EAAoBA,KAAMC,EAAAA,EAAAA,MAC1BC,EAAqDC,EAAAA,E,qFCMlE,MAAMC,EAAkCC,IAAgC,IAA/B,IAAEC,EAAG,SAAEC,EAAQ,OAAEC,GAAQH,EAC9D,MAAMI,GAAkBC,EAAAA,EAAAA,QAA8B,MAChDC,GAAWC,EAAAA,EAAAA,MAMXC,EAAqBC,IACvBA,EAAMC,iBAAiB,EAG3B,OACIC,EAAAA,EAAAA,MAAA,OAAKC,QATeC,KACpBP,EAAS,aAAaL,EAAIa,OAAO,GAAGC,OAAO,EAQZC,UAAU,WAAUC,SAAA,EAC/CC,EAAAA,EAAAA,KAAA,OAAKC,IAAKlB,EAAImB,IAAKC,IAAKpB,EAAIa,OAAO,GAAGC,QACtCG,EAAAA,EAAAA,KAAA,MAAAD,SAAKhB,EAAIa,OAAO,GAAGC,QACnBG,EAAAA,EAAAA,KAAA,KAAAD,SAAIhB,EAAIa,OAAO,GAAGQ,eAClBX,EAAAA,EAAAA,MAAA,OAAKY,IAAKnB,EAAiBY,UAAU,mBAAkBC,SAAA,EACnDC,EAAAA,EAAAA,KAAA,UACIF,UAAU,gBACVJ,QAAUH,IACND,EAAkBC,GAClBP,GAAU,EACZe,UACFC,EAAAA,EAAAA,KAACM,EAAAA,EAAe,CAACC,GAAI,mBAEzBP,EAAAA,EAAAA,KAAA,UACIN,QAAUH,IACND,EAAkBC,GAClBN,GAAQ,EAEZa,UAAWf,EAAIyB,MAAQ,oBAAsB,cAAcT,UAC3DC,EAAAA,EAAAA,KAACM,EAAAA,EAAe,CAACC,GAAI,qBAG3B,EAId,EAAeE,EAAAA,KAAW5B,G,sBC/CnB,MAAM6B,EACT,cAAOC,GACH,OAAOC,EAAAA,EAAMC,IAAU,yJAC3B,E,aCFG,MCmDP,EA9C8C/B,IAAiC,IAAhC,OAAEgC,EAAM,eAAEC,GAAgBjC,EACrE,MAAMkC,GAAWvC,EAAAA,EAAAA,KAEXwC,EAAsBC,IACxB,MAAMC,EAAYD,EAAEE,OAAOC,MAC3BL,GAASM,EAAAA,EAAAA,IAAUH,IACnBJ,EAAeI,EAAU,EAG7B,OACI1B,EAAAA,EAAAA,MAAA,OAAKK,UAAU,cAAaC,SAAA,EACxBN,EAAAA,EAAAA,MAAA,OACIK,UAAU,qBACVJ,QAASA,KAAO,IAAD6B,EAAAC,EACoC,QAA/CD,EAAAE,SAASC,cAAc,gCAAwB,IAAAH,GAA/CA,EAAiDI,UAAUC,OAAO,UACrB,QAA7CJ,EAAAC,SAASC,cAAc,8BAAsB,IAAAF,GAA7CA,EAA+CG,UAAUC,OAAO,gBAAgB,EAClF7B,SAAA,CACL,qDACyB,QAAXe,EAAmB,2BAAS,6DAE3CrB,EAAAA,EAAAA,MAAA,OAAKK,UAAU,uBAAsBC,SAAA,EACjCN,EAAAA,EAAAA,MAAA,SAAAM,SAAA,EACIC,EAAAA,EAAAA,KAAA,SACI6B,SAAUZ,EACVI,MAAM,MACNxB,KAAK,OACLiC,KAAK,QACLC,QAAoB,QAAXjB,IACV,IAAI,yBAGXrB,EAAAA,EAAAA,MAAA,SAAAM,SAAA,EACIC,EAAAA,EAAAA,KAAA,SACI6B,SAAUZ,EACVI,MAAM,QACNxB,KAAK,OACLiC,KAAK,QACLC,QAAoB,UAAXjB,IACV,IAAI,iEAIb,ECTd,EAjC8ChC,IAA0D,IAAzD,aAAEkD,EAAY,WAAEC,EAAU,SAAEC,EAAQ,YAAEC,GAAarD,EAC9F,MAAMsD,EAAc,GAEpB,IAAK,IAAIC,EAAI,EAAGA,GAAKC,KAAKC,KAAKN,EAAaD,GAAeK,IACvDD,EAAYI,KAAKH,GAIrB,OACIrC,EAAAA,EAAAA,KAAAyC,EAAAA,SAAA,CAAA1C,UACIN,EAAAA,EAAAA,MAAA,OAAKK,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,UACIN,QAASA,IAAMwC,EAASC,EAAc,GACtCO,SAA0B,IAAhBP,EAAkBpC,SAC/B,mCAGAqC,EAAYO,KAAKC,IACd5C,EAAAA,EAAAA,KAAA,UAAQF,UAAW,IAAG8C,IAAWT,EAAc,SAAW,IAAmBzC,QAASA,IAAMwC,EAASU,GAAQ7C,SACzG6C,GADiEA,MAIzE5C,EAAAA,EAAAA,KAAA,UACIN,QAASA,IAAMwC,EAASC,EAAc,GACtCO,SAAUP,IAAgBC,EAAYS,OAAO9C,SAChD,6CAIN,EC7BL+C,EAAqBA,KACvB,MAAOX,EAAaY,IAAkBC,EAAAA,EAAAA,UAAS,IACxChB,IAAgBgB,EAAAA,EAAAA,UAAS,GAE1BhC,GAAWvC,EAAAA,EAAAA,MACX,KAAEwE,EAAI,OAAEnC,EAAM,UAAEoC,IAAcvE,EAAAA,EAAAA,IAAkBwE,GAASA,EAAMC,mBAG/DC,GAAeC,EAAAA,EAAAA,UAAQ,IACP,QAAXxC,EAAmBmC,EAAOA,EAAKnC,QAAO/B,GAAOA,EAAIyB,SACzD,CAACyC,EAAMnC,IAEJyC,EAAgBpB,EAAcH,EAC9BwB,EAAiBD,EAAgBvB,EACjCyB,EAAeJ,EAAaK,MAAMF,EAAgBD,IAExDI,EAAAA,EAAAA,YAAU,KACsB,IAAxBN,EAAaR,QACb7B,GHvBmB4C,UAE3B,IACI5C,EAAS6C,EAAAA,GAAUC,QAAQC,aAC3B,MAAMC,QAAYtD,EAAYC,UACX,MAAfqD,EAAIC,OACJjD,EAAS6C,EAAAA,GAAUC,QAAQI,iBAAiBF,IAG5ChD,EAAS6C,EAAAA,GAAUC,QAAQK,eAAeH,GAElD,CAAE,MAAOI,GACLC,QAAQC,IAAIF,EAEhB,IGUI,GACD,CAACpD,KAEJ2C,EAAAA,EAAAA,YAAU,KAENZ,EAAe,EAAE,GAClB,CAACjC,IAEJ,MAAMG,GAAqBsD,EAAAA,EAAAA,cAAapD,IACpCH,GAASM,EAAAA,EAAAA,IAAUH,GAAW,GAC/B,CAACH,IAMJ,OACIhB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACtBN,EAAAA,EAAAA,MAAA,OAAKK,UAAU,YAAWC,SAAA,EACtBC,EAAAA,EAAAA,KAACwE,EAAU,CAAC1D,OAAQA,EAAQC,eAAgBE,IAC3CiC,GAAYlD,EAAAA,EAAAA,KAAA,OAAKF,UAAU,UAASC,UAACC,EAAAA,EAAAA,KAACM,EAAAA,EAAe,CAACC,GAAG,sBAA4B,MACpF2C,GAAqC,IAAxBG,EAAaR,SAAgB7C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sBAAqBC,SAAC,8GAC/EmD,GAAaG,EAAaR,OAAS,IAClCpD,EAAAA,EAAAA,MAAAgD,EAAAA,SAAA,CAAA1C,SAAA,EACCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,QAAOC,SACjB0D,EAAad,KAAK5D,IACfiB,EAAAA,EAAAA,KAACnB,EAAO,CAEJE,IAAKA,EACLE,OAAQA,IAAM+B,GAASyD,EAAAA,EAAAA,IAAW1F,EAAIwB,KACtCvB,SAAUA,IAAMgC,GAAS0D,EAAAA,EAAAA,IAAU3F,EAAIwB,MAHlCxB,EAAIwB,SAOrBP,EAAAA,EAAAA,KAAC2E,EAAU,CACP3C,aAAcA,EACdC,WAAYoB,EAAaR,OACzBX,SAzBF0C,IACd7B,EAAe6B,EAAW,EAyBVzC,YAAaA,WAMvB,EAId,GAAe0C,EAAAA,EAAAA,MAAK/B,E","sources":["hooks/store.ts","components/CatCard.tsx","services/CatsService.ts","store/thunks/fetchCats.ts","components/CatsFilter.tsx","components/Pagination.tsx","pages/CatsPage.tsx"],"sourcesContent":["import { TypedUseSelectorHook, useDispatch } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"../store/store\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport const useCustomDispatch = () => useDispatch<AppDispatch>();\r\nexport const useCustomSelector: TypedUseSelectorHook<RootState> = useSelector;","import React, { useRef } from 'react';\r\nimport { Cat } from '../store/types/types';\r\nimport IconSvgSelector from '../assets/icons/IconSvgSelector';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface CatCardProps {\r\n    cat: Cat;\r\n    onDelete: () => void;\r\n    onLike: () => void;\r\n}\r\n\r\nconst CatCard: React.FC<CatCardProps> = ({ cat, onDelete, onLike }) => {\r\n    const buttonContainer = useRef<HTMLDivElement | null>(null);\r\n    const navigate = useNavigate();\r\n\r\n    const handleCardClick = () => {\r\n        navigate(`/products/${cat.breeds[0].name}`);\r\n    }\r\n\r\n    const handleButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        event.stopPropagation();\r\n    }\r\n\r\n    return (\r\n        <div onClick={handleCardClick} className='cat-card'>\r\n            <img src={cat.url} alt={cat.breeds[0].name} />\r\n            <h3>{cat.breeds[0].name}</h3>\r\n            <p>{cat.breeds[0].description}</p>\r\n            <div ref={buttonContainer} className='button-container'>\r\n                <button\r\n                    className='remove-button'\r\n                    onClick={(event) => {\r\n                        handleButtonClick(event);\r\n                        onDelete(); \r\n                    }}>\r\n                    <IconSvgSelector id={'remove-icon'} />\r\n                </button>\r\n                <button\r\n                    onClick={(event) => {\r\n                        handleButtonClick(event);\r\n                        onLike();\r\n                    }}\r\n                    className={cat.liked ? 'like-button liked' : 'like-button'}>\r\n                    <IconSvgSelector id={'like-icon'} />\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default React.memo(CatCard);\r\n","import axios, { AxiosResponse } from \"axios\";\r\nimport { Cats } from \"../store/types/types\";\r\n\r\nexport class CatsServise{\r\n    static getCats(): Promise<AxiosResponse<Cats>> {\r\n        return axios.get<Cats>(`https://api.thecatapi.com/v1/images/search?limit=50&has_breeds=1&lang=ru&api_key=live_iUz3xBRZfipCJCIU76AfXZjLFx2vjG0vY4Qzp4KrPUKM611CiikqN4eeG9c9uZ0z`)\r\n    }\r\n}","import { CatsServise } from \"../../services/CatsService\";\r\nimport { CatsSlice } from \"../slices/CatSlice\";\r\nimport { AppDispatch } from \"../store\";\r\n\r\nexport const fetchCats = () => async (dispatch: AppDispatch) => {\r\n\r\n    try {\r\n        dispatch(CatsSlice.actions.fetchCats())\r\n        const res = await CatsServise.getCats();\r\n        if (res.status === 200) {\r\n            dispatch(CatsSlice.actions.fetchCatsSuccess(res))\r\n        }\r\n        else {\r\n            dispatch(CatsSlice.actions.fetchCatsError(res))\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n        \r\n    }\r\n    \r\n}","import React from 'react';\r\nimport { useCustomDispatch } from '../hooks/store';\r\nimport { setFilter } from '../store/slices/CatSlice';\r\n\r\ninterface CatsFilterProps {\r\n    filter: 'all' | 'liked';\r\n    onFilterChange: (filter: 'all' | 'liked') => void;\r\n}\r\n\r\nconst CatsFilter: React.FC<CatsFilterProps> = ({ filter, onFilterChange }) => {\r\n    const dispatch = useCustomDispatch();\r\n\r\n    const handleFilterChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const newFilter = e.target.value as 'all' | 'liked';\r\n        dispatch(setFilter(newFilter));\r\n        onFilterChange(newFilter);\r\n    };\r\n\r\n    return (\r\n        <div className='cats-filter'>\r\n            <div\r\n                className='cats-filter__title'\r\n                onClick={() => {\r\n                    document.querySelector('.cats-filter__options')?.classList.toggle('active');\r\n                    document.querySelector('.cats-filter__title')?.classList.toggle('active-filter');\r\n                }}\r\n            >\r\n                Фильтр по {filter === 'all' ? 'всем' : 'избранным'}\r\n            </div>\r\n            <div className='cats-filter__options'>\r\n                <label>\r\n                    <input\r\n                        onChange={handleFilterChange}\r\n                        value='all'\r\n                        name='cats'\r\n                        type='radio'\r\n                        checked={filter === 'all'}\r\n                    />{' '}\r\n                    Все\r\n                </label>\r\n                <label>\r\n                    <input\r\n                        onChange={handleFilterChange}\r\n                        value='liked'\r\n                        name='cats'\r\n                        type='radio'\r\n                        checked={filter === 'liked'}\r\n                    />{' '}\r\n                    Избранные\r\n                </label>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CatsFilter;\r\n","import React from 'react';\r\n\r\ninterface PaginationProps {\r\n    cardsPerPage: number ;\r\n    totalCards: number;\r\n    paginate: (pageNumber: number) => void;\r\n    currentPage: number;\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({ cardsPerPage, totalCards, paginate, currentPage }) => {\r\n    const pageNumbers = [];\r\n\r\n    for (let i = 1; i <= Math.ceil(totalCards / cardsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n    \r\n\r\n    return (\r\n        <>\r\n            <div className='pagination'>\r\n                <button\r\n                    onClick={() => paginate(currentPage - 1)}\r\n                    disabled={currentPage === 1}\r\n                >\r\n                    Назад\r\n                </button>\r\n                {pageNumbers.map((number) => (\r\n                    <button className={`${number === currentPage ? 'active' : ''}`} key={number} onClick={() => paginate(number)}>\r\n                       {number}\r\n                    </button>\r\n                ))}\r\n                <button\r\n                    onClick={() => paginate(currentPage + 1)}\r\n                    disabled={currentPage === pageNumbers.length}\r\n                >\r\n                    Вперед\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Pagination;","import React, { memo, useCallback, useEffect, useMemo, useState } from 'react';\r\nimport CatCard from '../components/CatCard';\r\nimport { useCustomDispatch, useCustomSelector } from '../hooks/store';\r\nimport { fetchCats } from '../store/thunks/fetchCats';\r\nimport { removeCat, setFilter, toggleLike } from '../store/slices/CatSlice';\r\nimport CatsFilter from '../components/CatsFilter';\r\nimport Pagination from '../components/Pagination';\r\nimport IconSvgSelector from '../assets/icons/IconSvgSelector';\r\n\r\nconst CatsPage: React.FC = () => {\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [cardsPerPage] = useState(9);\r\n\r\n    const dispatch = useCustomDispatch();\r\n    const { cats, filter, isLoading } = useCustomSelector(state => state.CatsSliceReducer);\r\n\r\n    // Мемоизация отфильтрованных котов\r\n    const filteredCats = useMemo(() => {\r\n        return filter === 'all' ? cats : cats.filter(cat => cat.liked);\r\n    }, [cats, filter]);\r\n\r\n    const lastCardIndex = currentPage * cardsPerPage;\r\n    const firstCardIndex = lastCardIndex - cardsPerPage;\r\n    const currentCards = filteredCats.slice(firstCardIndex, lastCardIndex);\r\n\r\n    useEffect(() => {\r\n        if (filteredCats.length === 0) {\r\n            dispatch(fetchCats());\r\n        }\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        // Сброс текущей страницы при изменении фильтра\r\n        setCurrentPage(1);\r\n    }, [filter]);\r\n\r\n    const handleFilterChange = useCallback((newFilter: 'all' | 'liked') => {\r\n        dispatch(setFilter(newFilter));\r\n    }, [dispatch]);\r\n\r\n    const paginate = (pageNumber: number) => {\r\n        setCurrentPage(pageNumber);\r\n    }\r\n\r\n    return (\r\n        <div className='cats-page'>\r\n            <div className=\"container\">\r\n                <CatsFilter filter={filter} onFilterChange={handleFilterChange} />\r\n                {isLoading ? <div className='loading'><IconSvgSelector id='loading-spinner'/></div> : null}\r\n                {!isLoading && filteredCats.length === 0 && <div className='liked-cats-undefind'>Избранных котов нет</div>}\r\n                {!isLoading && filteredCats.length > 0 &&\r\n                   <>\r\n                    <div className='cards'>\r\n                        {currentCards.map((cat) => (\r\n                            <CatCard\r\n                                key={cat.id}\r\n                                cat={cat}\r\n                                onLike={() => dispatch(toggleLike(cat.id))}\r\n                                onDelete={() => dispatch(removeCat(cat.id))}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                    <Pagination\r\n                        cardsPerPage={cardsPerPage}\r\n                        totalCards={filteredCats.length}\r\n                        paginate={paginate}\r\n                        currentPage={currentPage}\r\n                    />\r\n                    </>\r\n                }\r\n                \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default memo(CatsPage);\r\n"],"names":["useCustomDispatch","useDispatch","useCustomSelector","useSelector","CatCard","_ref","cat","onDelete","onLike","buttonContainer","useRef","navigate","useNavigate","handleButtonClick","event","stopPropagation","_jsxs","onClick","handleCardClick","breeds","name","className","children","_jsx","src","url","alt","description","ref","IconSvgSelector","id","liked","React","CatsServise","getCats","axios","get","filter","onFilterChange","dispatch","handleFilterChange","e","newFilter","target","value","setFilter","_document$querySelect","_document$querySelect2","document","querySelector","classList","toggle","onChange","type","checked","cardsPerPage","totalCards","paginate","currentPage","pageNumbers","i","Math","ceil","push","_Fragment","disabled","map","number","length","CatsPage","setCurrentPage","useState","cats","isLoading","state","CatsSliceReducer","filteredCats","useMemo","lastCardIndex","firstCardIndex","currentCards","slice","useEffect","async","CatsSlice","actions","fetchCats","res","status","fetchCatsSuccess","fetchCatsError","error","console","log","useCallback","CatsFilter","toggleLike","removeCat","Pagination","pageNumber","memo"],"sourceRoot":""}